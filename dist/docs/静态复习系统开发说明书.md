# 静态网页复习系统开发说明书

## 项目概述

### 项目名称
本地知识复习系统（Local Knowledge Review System）

### 项目简介
一个纯前端的静态网页应用，用户可以在本地启动后进行知识复习、错题管理和知识库维护。系统采用纯HTML+CSS+JavaScript实现，无需后端服务，所有数据存储在浏览器本地存储中。

### 核心功能
1. **知识管理** - 添加、编辑、删除知识点
2. **复习功能** - 智能复习算法，根据遗忘曲线安排复习
3. **错题本** - 记录错误答案，重点复习
4. **统计分析** - 学习进度、正确率等数据统计

## 功能需求分析

### 1. 知识管理模块
- **知识点添加**
  - 支持题目、答案、解析、标签等字段
  - 支持富文本编辑（Markdown格式）
  - 支持图片上传（Base64编码存储）
  
- **知识点编辑**
  - 在线编辑知识点内容
  - 批量编辑和删除
  - 导入导出功能（JSON格式）

- **分类管理**
  - 支持多级分类
  - 标签系统
  - 搜索和筛选

### 2. 复习功能模块
- **智能复习算法**
  - 基于艾宾浩斯遗忘曲线
  - 根据回答正确率调整复习间隔
  - 支持自定义复习计划

- **复习模式**
  - 顺序复习
  - 随机复习
  - 重点复习（错题优先）
  - 定时复习提醒

- **答题界面**
  - 简洁的答题界面
  - 支持显示/隐藏答案
  - 自评正确性（简单/困难/错误）

### 3. 错题本模块
- **错题记录**
  - 自动记录回答错误的题目
  - 记录错误次数和时间
  - 错误原因分析

- **错题复习**
  - 专门的错题复习模式
  - 错题重点标记
  - 错题掌握度追踪

### 4. 统计分析模块
- **学习统计**
  - 每日学习时长
  - 复习题目数量
  - 正确率趋势

- **进度追踪**
  - 知识点掌握度
  - 复习进度可视化
  - 学习热力图

## 技术架构设计

### 前端技术栈
- **HTML5** - 页面结构
- **CSS3** - 样式设计，使用Flexbox/Grid布局
- **JavaScript (ES6+)** - 业务逻辑
- **LocalStorage/IndexedDB** - 本地数据存储
- **Chart.js** - 数据可视化
- **Marked.js** - Markdown解析
- **Bootstrap 5** - UI框架（可选）

### 数据存储设计
```javascript
// 知识点数据结构
{
  id: string,           // 唯一标识
  question: string,     // 题目
  answer: string,       // 答案
  explanation: string,  // 解析
  tags: string[],       // 标签
  category: string,     // 分类
  difficulty: number,   // 难度等级 1-5
  createdAt: timestamp, // 创建时间
  updatedAt: timestamp, // 更新时间
  reviewCount: number,  // 复习次数
  correctCount: number, // 正确次数
  lastReviewed: timestamp, // 最后复习时间
  nextReview: timestamp,   // 下次复习时间
  interval: number,     // 复习间隔（天）
  easeFactor: number    // 难易度因子
}

// 学习记录数据结构
{
  id: string,
  knowledgeId: string,
  reviewDate: timestamp,
  isCorrect: boolean,
  difficulty: number,   // 用户评价难度 1-5
  timeSpent: number     // 用时（秒）
}
```

### 文件结构
```
local-review-system/
├── index.html              # 主页面
├── css/
│   ├── style.css          # 主样式文件
│   ├── components.css     # 组件样式
│   └── responsive.css     # 响应式样式
├── js/
│   ├── app.js            # 主应用逻辑
│   ├── storage.js        # 数据存储管理
│   ├── review.js         # 复习算法
│   ├── knowledge.js      # 知识管理
│   ├── statistics.js     # 统计分析
│   └── utils.js          # 工具函数
├── lib/
│   ├── marked.min.js     # Markdown解析
│   ├── chart.min.js      # 图表库
│   └── bootstrap.min.css # UI框架
├── assets/
│   ├── icons/            # 图标文件
│   └── images/           # 图片资源
├── data/
│   └── sample.json       # 示例数据
└── README.md             # 使用说明
```

## 开发计划

### 第一阶段：基础框架搭建（1-2天）
1. **项目初始化**
   - 创建基本的HTML页面结构
   - 设置CSS样式框架
   - 配置JavaScript模块化结构

2. **数据存储层**
   - 实现LocalStorage封装
   - 设计数据模型
   - 实现基本的CRUD操作

### 第二阶段：知识管理功能（2-3天）
1. **知识点管理界面**
   - 知识点列表展示
   - 添加/编辑/删除功能
   - 分类和标签管理

2. **数据导入导出**
   - JSON格式导入导出
   - 批量操作功能

### 第三阶段：复习功能实现（3-4天）
1. **复习算法实现**
   - 艾宾浩斯遗忘曲线算法
   - 复习计划生成
   - 难度调整机制

2. **复习界面开发**
   - 答题界面设计
   - 复习模式选择
   - 进度显示

### 第四阶段：错题本功能（1-2天）
1. **错题记录机制**
   - 自动错题收集
   - 错题分类管理

2. **错题复习模式**
   - 专门的错题复习界面
   - 错题统计分析

### 第五阶段：统计分析功能（2-3天）
1. **数据统计**
   - 学习数据收集
   - 统计算法实现

2. **可视化展示**
   - 图表集成
   - 仪表板设计

### 第六阶段：优化完善（1-2天）
1. **性能优化**
   - 代码优化
   - 数据加载优化

2. **用户体验优化**
   - 响应式设计
   - 交互细节完善

## 核心算法设计

### 复习算法（基于SM-2算法）
```javascript
function calculateNextReview(easeFactor, interval, quality) {
  // quality: 0-5，表示回答质量
  // 0-2: 错误，需要重新开始
  // 3: 勉强正确
  // 4: 正确
  // 5: 非常容易
  
  if (quality < 3) {
    // 回答错误，重置间隔
    return {
      interval: 1,
      easeFactor: Math.max(1.3, easeFactor - 0.2),
      nextReview: Date.now() + 24 * 60 * 60 * 1000 // 明天复习
    };
  }
  
  // 计算新的难易度因子
  const newEaseFactor = easeFactor + (0.1 - (5 - quality) * (0.08 + (5 - quality) * 0.02));
  
  // 计算新的间隔
  let newInterval;
  if (interval === 1) {
    newInterval = 6;
  } else {
    newInterval = Math.round(interval * newEaseFactor);
  }
  
  return {
    interval: newInterval,
    easeFactor: Math.max(1.3, newEaseFactor),
    nextReview: Date.now() + newInterval * 24 * 60 * 60 * 1000
  };
}
```

## 界面设计规范

### 设计原则
1. **简洁明了** - 界面简洁，操作直观
2. **响应式设计** - 支持桌面和移动端
3. **无障碍访问** - 支持键盘导航和屏幕阅读器

### 配色方案
- **主色调**：#3498db（蓝色）
- **辅助色**：#2ecc71（绿色）、#e74c3c（红色）
- **背景色**：#f8f9fa（浅灰）
- **文字色**：#2c3e50（深灰）

### 布局设计
- **头部导航**：Logo + 主要功能导航
- **侧边栏**：分类筛选、统计信息
- **主内容区**：根据功能模块动态切换
- **底部**：版权信息、帮助链接

## 数据安全与备份

### 本地存储策略
1. **LocalStorage**：存储配置和小量数据
2. **IndexedDB**：存储大量知识点数据
3. **定期备份**：提醒用户定期导出数据

### 数据迁移
- 提供数据导出功能（JSON格式）
- 支持数据导入和合并
- 版本兼容性处理

## 部署说明

### 本地部署
1. 下载所有文件到本地目录
2. 双击`index.html`在浏览器中打开
3. 或使用本地服务器（如Live Server）运行

### 在线部署（可选）
- 可部署到GitHub Pages、Netlify等静态托管服务
- 支持PWA（渐进式Web应用）离线使用

## 扩展功能规划

### 短期扩展
1. **主题切换** - 支持深色/浅色主题
2. **快捷键支持** - 提高操作效率
3. **音频支持** - 语音播放题目和答案

### 长期扩展
1. **多知识库** - 支持创建多个独立的知识库
2. **协作功能** - 支持知识库分享
3. **移动端APP** - 使用Cordova打包成移动应用

## 开发注意事项

### 浏览器兼容性
- 支持Chrome 60+、Firefox 55+、Safari 12+
- 使用Babel转译ES6+语法（如需支持旧浏览器）

### 性能考虑
- 大量数据时使用虚拟滚动
- 图片使用懒加载
- 数据分页加载

### 测试策略
- 单元测试：使用Jest测试核心算法
- 功能测试：手动测试各功能模块
- 兼容性测试：多浏览器测试

## 总结

本静态网页复习系统设计简洁实用，功能完整，适合个人本地使用。通过合理的技术选型和架构设计，能够提供良好的用户体验和稳定的功能表现。整个开发周期预计10-15天，可根据实际需求调整功能优先级和开发进度。 